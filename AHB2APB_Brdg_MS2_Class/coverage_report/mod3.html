<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="Author" content="<username>"> <meta name="GENERATOR" content="urg/version [en] (platform name) [urg]">
<title>Unified Coverage Report :: Module :: ahb_apb_top</title>
<link type="text/css" rel="stylesheet" href="css/.urg.css">
<link type="text/css" rel="stylesheet" href="css/.layout.css">
<link type="text/css" rel="stylesheet" href="css/.breadcrumb.css">
<script type="text/javascript" src="js/.jquery.js"></script>
<script type="text/javascript" src="js/.jquery-ui.js"></script>
<script type="text/javascript" src="js/.sortable.js"></script>
<script type="text/javascript" src="js/.layout.js"></script>
<script type="text/javascript" src="js/.breadcrumb.js"></script>
<script type="text/javascript">
var layout, westLayout, centerLayout;
$(document).ready(function () {
  if ($("#north-bread-crumb")) {
    $("#north-bread-crumb").jBreadCrumb({easing:'swing'})
  }
  layout = $("body").layout({ 
    resizable: true,
    spacing_open: 4,
    spacing_closed: 4,
    north: {
      size: 76
    },
    south: {
      size: 45,
      initClosed: true
    },
    west: {
      size: 500,
      resizable: true,
      initClosed: false
    }
  });
  centerLayout = $('div.ui-layout-center').layout({
    north__paneSelector: ".ui-layout-center-inner-north",
    center__paneSelector: ".ui-layout-center-inner-center", 
    north__size: 50,
    spacing_open: 4,
    spacing_closed: 4
  });
});
</script>
</head>
<body onLoad="initPage();"><div class="ui-layout-north">
<div class="logo"></div>
<center class="pagetitle">Module Definition</center>
<div align="center"><a href="dashboard.html" ><b>dashboard</b></a> | <a href="hierarchy.html" ><b>hierarchy</b></a> | <a href="modlist.html" ><b>modlist</b></a> | <a href="groups.html" ><b>groups</b></a> | <a href="tests.html" ><b>tests</b></a> | asserts</div>

</div>
<div class="ui-layout-west">
<div name='tag_ahb_apb_top'>
<div class=modhdr>
<br clear=all>
<span class=titlename>Module : <a href="#"  onclick="showContent('tag_ahb_apb_top')">ahb_apb_top</a></span>
<br clear=all>
<table align=left>
<tr class="sortablehead">
<td>SCORE</td><td>LINE</td><td>COND</td><td>TOGGLE</td><td>FSM</td><td>BRANCH</td></tr><tr>
<td class="s9 cl rt"> 95.00</td>
<td class="s9 cl rt"><a href="mod3.html#Line" > 90.00</a></td>
<td class="wht cl rt"></td>
<td class="s10 cl rt"><a href="mod3.html#Toggle" >100.00</a></td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
</tr></table><br clear=all>
<span class=repname>Source File(s) : </span>
<br clear=all>
<a href="file:///u/ameyk/ECE593_Codes/ECE593_AHB2APB_Bridge/AHB2APB_Brdg_MS2_Class/class_top.sv" >/u/ameyk/ECE593_Codes/ECE593_AHB2APB_Bridge/AHB2APB_Brdg_MS2_Class/class_top.sv</a><br clear=all>
<br clear=all>
<span class=repname>Module self-instances :</span>
<br clear=all>
<table align=left>
<tr class="sortablehead">
<td class="alfsrt">NAME</td><td>SCORE</td><td>LINE</td><td>COND</td><td>TOGGLE</td><td>FSM</td><td>BRANCH</td></tr><tr>
<td class="wht cl wordwrap"><a href="mod3.html#inst_tag_3"  onclick="showContent('inst_tag_3')">ahb_apb_top</a></td>
<td class="s9 cl rt"> 95.00</td>
<td class="s9 cl rt"><a href="mod3.html#Line" > 90.00</a></td>
<td class="wht cl rt"></td>
<td class="s10 cl rt"><a href="mod3.html#Toggle" >100.00</a></td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
</tr></table></div>
</div>
<br clear=all>
<div name='tag_ahb_apb_top'>
<hr>
<a name="inst_tag_3"></a>
<div class=modhdr>
<br clear=all>
<span class=titlename>Module Instance : <a href="hierarchy.html#tag_urg_inst_3" >ahb_apb_top</a></span>
<br clear=all>
<br clear=all>
<span class=repname>Instance :</span>
<br clear=all>
<table align=left>
<tr class="sortablehead">
<td>SCORE</td><td>LINE</td><td>COND</td><td>TOGGLE</td><td>FSM</td><td>BRANCH</td></tr><tr>
<td class="s9 cl rt"> 95.00</td>
<td class="s9 cl rt"><a href="mod3.html#Line" > 90.00</a></td>
<td class="wht cl rt"></td>
<td class="s10 cl rt"><a href="mod3.html#Toggle" >100.00</a></td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
</tr></table><br clear=all>
<br clear=all>
<span class=repname>Instance's subtree :</span>
<br clear=all>
<table align=left>
<tr class="sortablehead">
<td>SCORE</td><td>LINE</td><td>COND</td><td>TOGGLE</td><td>FSM</td><td>BRANCH</td></tr><tr>
<td class="s7 cl rt"> 78.68</td>
<td class="s9 cl rt"> 92.09</td>
<td class="s5 cl rt"> 57.41</td>
<td class="s9 cl rt"> 95.53</td>
<td class="s5 cl rt"> 59.09</td>
<td class="s8 cl rt"> 89.29</td>
</tr></table><br clear=all>
<br clear=all>
<span class=repname>Parent : </span>
<br clear=all>
<span class=inst>none</span>
<br clear=all>
<br clear=all>
<span class=repname>Subtrees :</span>
<br clear=all>
<table align=left>
<tr class="sortablehead">
<td class="alfsrt">NAME</td><td>SCORE</td><td>LINE</td><td>COND</td><td>TOGGLE</td><td>FSM</td><td>BRANCH</td></tr><tr>
<td class="wht cl wordwrap"><a href="mod6.html#inst_tag_6" id="tag_urg_inst_6">bfm</a></td>
<td class="s9 cl rt"> 94.60</td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
<td class="s9 cl rt"> 94.60</td>
<td class="wht cl rt"></td>
<td class="wht cl rt"></td>
</tr><tr>
<td class="wht cl wordwrap"><a href="mod4.html#inst_tag_4" id="tag_urg_inst_4">dut</a></td>
<td class="s7 cl rt"> 78.83</td>
<td class="s9 cl rt"> 92.75</td>
<td class="s5 cl rt"> 57.41</td>
<td class="s9 cl rt"> 95.63</td>
<td class="s5 cl rt"> 59.09</td>
<td class="s8 cl rt"> 89.29</td>
</tr></table><br clear=all>
</div>
</div>
<hr>
Since this is the module's only instance, the coverage report is the same as for the module.</div>
<div class="ui-layout-center">
<div class="ui-layout-center-inner-center">
<div name='tag_ahb_apb_top'>
<a name="Line"></a>
Line Coverage for Module : <a href="mod3.html" >ahb_apb_top</a><br clear=all>
<table class="noborder">
<col width="122">
<col span="4" width="82">
<tr><th></th><th>Line No.</th><th>Total</th><th>Covered</th><th>Percent</th></tr>
<tr class="s9"><td class="lf">TOTAL</td><td></td><td>60</td><td>54</td><td>90.00</td></tr>
<tr class="s10"><td class="lf">INITIAL</td><td>16</td><td>4</td><td>4</td><td>100.00</td></tr>
<tr class="s10"><td class="lf">INITIAL</td><td>22</td><td>4</td><td>4</td><td>100.00</td></tr>
<tr class="s10"><td class="lf">INITIAL</td><td>56</td><td>2</td><td>2</td><td>100.00</td></tr>
<tr class="s10"><td class="lf">INITIAL</td><td>61</td><td>43</td><td>43</td><td>100.00</td></tr>
<tr class="s1"><td class="lf">INITIAL</td><td>113</td><td>7</td><td>1</td><td>14.29</td></tr>
</table>
<pre class="code"><br clear=all>
15                        initial begin
16         1/1              Hclk = 0;
17         3/3              forever #5 Hclk = ~Hclk;
18                        end
19                      
20                        // Generate Pclk with 20ns period (50MHz) - slower APB clock for CDC
21                        initial begin
22         1/1              Pclk = 0;
23         3/3              forever #10 Pclk = ~Pclk;
24                        end
25                      
26                        // Interface instantiation
27                        ahb_apb_if bfm(Hclk, resetn, Pclk);
28                      
29                        // DUT instantiation
30                        Bridge_Top dut(
31                          .Hclk(Hclk),
32                          .Pclk(Pclk),
33                          .Hresetn(resetn),
34                          .Hwrite(bfm.Hwrite),
35                          .Hreadyin(bfm.Hreadyin),
36                          .Htrans(bfm.Htrans),
37                          .Hsize(bfm.Hsize),
38                          .Hburst(bfm.Hburst),
39                          .Hwdata(bfm.Hwdata),
40                          .Haddr(bfm.Haddr),
41                          .Hrdata(bfm.Hrdata),
42                          .Hresp(bfm.Hresp),
43                          .Hreadyout(bfm.Hreadyout),
44                          .Prdata(bfm.Prdata),
45                          .Pwdata(bfm.Pwdata),
46                          .Paddr(bfm.Paddr),
47                          .Pselx(bfm.Pselx),
48                          .Pwrite(bfm.Pwrite),
49                          .Penable(bfm.Penable)
50                        );
51                      
52                        // Test instantiation and execution
53                        test main_test;
54                        
55                        initial begin
56         1/1              $dumpfile(&quot;tb_class_top.vcd&quot;);
57         1/1              $dumpvars(0, ahb_apb_top);
58                        end
59                      
60                        initial begin
61         1/1              $display(&quot;\n========================================&quot;);
62         1/1              $display(&quot;   Simulation Started&quot;);
63         1/1              $display(&quot;========================================\n&quot;);
64                          
65                          // Initialize signals
66         1/1              bfm.Hwrite = 0;
67         1/1              bfm.Hreadyin = 1;
68         1/1              bfm.Htrans = 2'b00;
69         1/1              bfm.Hsize = 3'b010;
70         1/1              bfm.Hburst = 3'b000;
71         1/1              bfm.Hwdata = 0;
72         1/1              bfm.Haddr = 0;
73         1/1              bfm.Prdata = 0;  // Initialize APB read data
74                          
75                          // Initialize reset (using pattern from traditional TB)
76         1/1              resetn = 1;
77         2/2              @(posedge Hclk);
78         1/1              resetn = 0;
79         3/3              repeat(2) @(posedge Hclk);
                        REPEAT_FALSE
80         2/2              #1 resetn = 1;
81         1/1              $display(&quot;[%0t] Reset released&quot;, $time);
82                          
83                          // Wait for DUT ready
84         2/2              wait(bfm.Hreadyout == 1'b1);
85         3/3              repeat(2) @(posedge Hclk);
                        REPEAT_FALSE
86                          
87                          // **CRITICAL FIX**: Synchronize with Pclk to ensure CDC timing alignment
88                          // The CDC synchronizer needs Penable_hclk pulses to align with Pclk edges
89                          // Wait for Pclk negedge, then posedge to ensure we start at a known Pclk phase
90         2/2              @(negedge Pclk);
91         2/2              @(posedge Pclk);
92         2/2              @(posedge Hclk);  // Then sync to Hclk
93         1/1              $display(&quot;[%0t] Synchronized with both clocks&quot;, $time);
94                          
95                          // Create and run all tests
96         1/1              main_test = new(bfm);
97         1/1              main_test.run();
98                          
99                          // Wait for test completion
100        3/3              repeat(10) @(posedge Hclk);
                        REPEAT_FALSE
101                         
102                         // Display comprehensive coverage report
103        1/1              dut.cov_inst.display_coverage();
104                         
105        1/1              $display(&quot;\n========================================&quot;);
106        1/1              $display(&quot;   Simulation Completed&quot;);
107        1/1              $display(&quot;========================================\n&quot;);
108        1/1              $finish;
109                       end
110                     
111                       // Watchdog timer - increase for all tests running
112                       initial begin
113        <font color = "red">1/2     ==>      #500000;  // 500us timeout for all tests</font>
114        <font color = "red">0/1     ==>      $display(&quot;\n========================================&quot;);</font>
115        <font color = "red">0/1     ==>      $display(&quot;   TIMEOUT: Simulation exceeded 500us&quot;);</font>
116        <font color = "red">0/1     ==>      $display(&quot;========================================\n&quot;);</font>
117        <font color = "red">0/1     ==>      dut.cov_inst.display_coverage();  // Show coverage even on timeout</font>
118        <font color = "red">0/1     ==>      $finish;</font>
</pre>
<hr>
<a name="Toggle"></a>
Toggle Coverage for Module : <a href="mod3.html" >ahb_apb_top</a><br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=120></th><th nowrap width=80>Total</th><th nowrap width=80>Covered</th><th nowrap width=80>Percent</th></tr><tr class="s10">
<td>Totals</td>
<td class="rt">3</td>
<td class="rt">3</td>
<td class="rt">100.00</td>
</tr><tr class="s10">
<td>Total Bits</td>
<td class="rt">6</td>
<td class="rt">6</td>
<td class="rt">100.00</td>
</tr><tr class="s10">
<td nowrap>Total Bits 0->1</td>
<td class="rt">3</td>
<td class="rt">3</td>
<td class="rt">100.00</td>
</tr><tr class="s10">
<td nowrap>Total Bits 1->0</td>
<td class="rt">3</td>
<td class="rt">3</td>
<td class="rt">100.00</td>
</tr></table><br clear=all>
<table align=left class="noborder">
<tr>
<th nowrap width=120></th><th nowrap width=80></th><th nowrap width=80></th><th nowrap width=80></th></tr><tr class="s10">
<td>Signals</td>
<td class="rt">3</td>
<td class="rt">3</td>
<td class="rt">100.00</td>
</tr><tr class="s10">
<td>Signal Bits</td>
<td class="rt">6</td>
<td class="rt">6</td>
<td class="rt">100.00</td>
</tr><tr class="s10">
<td nowrap>Signal Bits 0->1</td>
<td class="rt">3</td>
<td class="rt">3</td>
<td class="rt">100.00</td>
</tr><tr class="s10">
<td nowrap>Signal Bits 1->0</td>
<td class="rt">3</td>
<td class="rt">3</td>
<td class="rt">100.00</td>
</tr></table><br clear=all>
<table align=left class="sortable noborder">
<caption><b>Signal Details</b></caption>
<tr class="sortablehead">
<td class="alfsrt">Name</td><td class="alfsrt">Toggle</td><td class="alfsrt">Toggle 1->0</td><td class="alfsrt">Toggle 0->1</td></tr><tr>
<td>Hclk</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
</tr><tr>
<td>Pclk</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
</tr><tr>
<td>resetn</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
<td class="s9 cl">Yes</td>
</tr></table><br clear=all>
</div>
</div>
<div class="ui-layout-center-inner-north">
<div id="center-bread-crumb" class="breadCrumb module urg-margin-bottom">
  <ul name="inst_tag_3">
    <li>
      <a href="#Line">Line</a>    </li>
    <li>
      <a href="#Toggle">Toggle</a>    </li>
  </ul>
  <ul name="tag_ahb_apb_top">
    <li>
      <a href="#Line">Line</a>    </li>
    <li>
      <a href="#Toggle">Toggle</a>    </li>
  </ul>
</div>
</div>
</div>
<div class="ui-layout-south">
<table align=center><tr><td class="s0 cl">0%</td>
<td class="s1 cl">10%</td>
<td class="s2 cl">20%</td>
<td class="s3 cl">30%</td>
<td class="s4 cl">40%</td>
<td class="s5 cl">50%</td>
<td class="s6 cl">60%</td>
<td class="s7 cl">70%</td>
<td class="s8 cl">80%</td>
<td class="s9 cl">90%</td>
<td class="s10 cl">100%</td></tr></table></div>
</body>
</html>
